import{_ as N}from"./B8mke3C5.js";import{e as P,g as $,c as d,a as e,i as j,d as u,j as o,k as p,t as i,F as f,r as v,p as b,o as l,b as _,w as c,m as V,n as B,s as L}from"./B8nWmkWj.js";const D={class:"min-h-screen bg-gray-50 dark:bg-gray-900 font-sans text-gray-800 dark:text-gray-200"},E={class:"container mx-auto px-4 py-6 max-w-3xl"},F={key:0,class:"text-center py-12"},S={key:1,class:"py-8 text-center bg-red-50 dark:bg-red-900/10 rounded-lg p-4"},z={class:"text-red-500 dark:text-red-400 text-sm font-medium"},M={key:2,class:"space-y-4"},T={class:"p-4"},A={class:"flex justify-center text-base md:text-lg font-semibold text-gray-800 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors mb-2"},Y={class:"flex flex-wrap items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-3"},q={class:"flex items-center gap-1"},G={class:"flex items-center gap-1"},H={class:"flex flex-wrap gap-1 ml-auto"},I={class:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2 leading-tight mb-3 flex justify-center"},J={key:0,class:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},K={key:3,class:"mt-8 flex justify-center"},O={class:"flex items-center gap-2"},Q=["disabled"],R=["onClick"],U=["disabled"],W={class:"bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800 mt-8"},X={class:"container mx-auto px-4 py-4 max-w-3xl text-center text-gray-500 dark:text-gray-400 text-xs"},rt=P({__name:"index",setup(Z){const y=b(!0),g=b(null),m=b([]),s=b({page:1,limit:10,total:0,totalPages:0,hasNext:!1,hasPrev:!1});$(()=>{k()});const w=()=>{const a=document.documentElement;a.classList.toggle("dark"),localStorage.theme=a.classList.contains("dark")?"dark":"light"},k=async(a=1)=>{y.value=!0,g.value=null;try{const t=await $fetch(`/api/articles?page=${a}&limit=${s.value.limit}`);if(!t||t.code!==200)throw new Error(t?.message||"获取文章失败");m.value=t.data||[],s.value=t.pagination||s.value}catch(t){g.value=t.message||"获取文章失败"}finally{y.value=!1}},h=async a=>{a<1||a>s.value.totalPages||await k(a)},C=L(()=>{const a=s.value.page,t=s.value.totalPages,n=[];if(t<=7)for(let r=1;r<=t;r++)n.push(r);else a<=4?n.push(1,2,3,4,5,"...",t):a>=t-3?n.push(1,"...",t-4,t-3,t-2,t-1,t):n.push(1,"...",a-1,a,a+1,"...",t);return n.filter(r=>typeof r=="number")});return(a,t)=>{const n=N;return l(),d("div",D,[e("header",{class:"sticky top-0 z-50 bg-white/95 dark:bg-gray-900/95 shadow-sm border-b border-gray-100 dark:border-gray-800"},[e("div",{class:"container mx-auto px-4 py-2.5 max-w-3xl flex justify-between items-center"},[t[3]||(t[3]=e("a",{href:"/",class:"text-lg font-bold text-blue-600 dark:text-blue-400"},"Nuxt 技术博客",-1)),e("nav",{class:"flex items-center gap-4"},[t[2]||(t[2]=j('<ul class="flex gap-4 text-sm"><li><a href="/" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">首页</a></li><li><a href="/search" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">搜索</a></li><li><a href="/tags" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">标签</a></li><li><a href="/categories" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">分类</a></li><li><a href="/archives" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">归档</a></li></ul>',1)),e("button",{onClick:w,class:"p-1.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"切换暗黑模式"})])])]),e("main",E,[t[9]||(t[9]=e("div",{class:"text-center mb-8 pt-4"},[e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-2 relative"},[u(" 我的 Nuxt4 技术博客 "),e("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-20 h-0.5 bg-blue-500 rounded-full"})]),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm"},"记录 Nuxt 学习之路，分享前端技术与实战经验")],-1)),o(y)?(l(),d("div",F,[...t[4]||(t[4]=[e("div",{class:"inline-block w-10 h-10 border-3 border-blue-100 dark:border-blue-900 border-t-blue-500 dark:border-t-blue-400 rounded-full animate-spin mb-3"},null,-1),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"加载文章中...",-1)])])):p("",!0),o(g)?(l(),d("div",S,[t[5]||(t[5]=e("div",{class:"bg-red-100 dark:bg-red-900/30 text-red-500 dark:text-red-400 rounded-full w-12 h-12 flex items-center justify-center mb-2"},null,-1)),e("p",z,i(o(g).message),1),e("button",{class:"mt-3 px-4 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors",onClick:k}," 重新加载 ")])):(l(),d("div",M,[(l(!0),d(f,null,v(o(m),r=>(l(),d("article",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},[e("div",T,[_(n,{to:r.path,class:"block"},{default:c(()=>[e("h2",A,i(r.frontmatter?.title||r.id),1)]),_:2},1032,["to"]),e("div",Y,[e("span",q,i(r.frontmatter?.date||"未发布"),1),t[6]||(t[6]=e("span",{class:"text-gray-300 dark:text-gray-600"},"•",-1)),e("span",G,[_(n,{to:`/categories/${r.frontmatter?.category||"未分类"}`,class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},{default:c(()=>[u(i(r.frontmatter?.category||"未分类"),1)]),_:2},1032,["to"])]),e("div",H,[(l(!0),d(f,null,v(r.frontmatter?.tags||[],x=>(l(),V(n,{key:x,to:`/tags/${x}`,class:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-1.5 py-0.5 rounded text-xs hover:bg-blue-100 dark:hover:bg-blue-800/30 transition-colors"},{default:c(()=>[u(i(x),1)]),_:2},1032,["to"]))),128))])]),e("p",I,i(r.frontmatter?.description||"暂无简介，点击阅读全文了解更多内容..."),1),_(n,{to:r.path,class:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 text-xs font-medium hover:text-blue-700 dark:hover:text-blue-300 transition-colors justify-end"},{default:c(()=>[...t[7]||(t[7]=[u(" 阅读更多 ",-1)])]),_:1},8,["to"])])]))),128)),o(m).length===0?(l(),d("div",J,[...t[8]||(t[8]=[e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"暂无文章，快来创作你的第一篇博客吧！",-1)])])):p("",!0)])),o(s).totalPages>1?(l(),d("div",K,[e("nav",O,[e("button",{onClick:t[0]||(t[0]=r=>h(o(s).page-1)),disabled:!o(s).hasPrev,class:"px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," 上一页 ",8,Q),(l(!0),d(f,null,v(o(C),r=>(l(),d("button",{key:r,onClick:x=>h(r),class:B(["px-3 py-2 text-sm font-medium border rounded-md transition-colors",r===o(s).page?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 border-blue-500":"text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},i(r),11,R))),128)),e("button",{onClick:t[1]||(t[1]=r=>h(o(s).page+1)),disabled:!o(s).hasNext,class:"px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," 下一页 ",8,U)])])):p("",!0)]),e("footer",W,[e("div",X,[e("p",null,"© "+i(new Date().getFullYear())+" 我的 Nuxt4 技术博客 | 基于 Nuxt4 + Vue3 构建",1)])])])}}});export{rt as default};
